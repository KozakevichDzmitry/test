<?php

function eternal_video($atts)
{
	$video_file_url = wp_get_attachment_url($atts['attachment_id']);
	$video_file = get_attached_file($atts['attachment_id']);
	$file_ext = pathinfo($video_file, PATHINFO_EXTENSION);
?>
	<video width="320" height="240" poster="<?php echo $atts["poster"]; ?>">
		<source src="<?php echo $video_file_url; ?>" type="video/<?php echo $file_ext; ?>">
		Your browser does not support the video tag.
	</video>
	<div class="controls active">
		<button class="play start">
			<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M25 0C31.6304 0 37.9893 2.63392 42.6777 7.32233C47.3661 12.0107 50 18.3696 50 25C50 31.6304 47.3661 37.9893 42.6777 42.6777C37.9893 47.3661 31.6304 50 25 50C18.3696 50 12.0107 47.3661 7.32233 42.6777C2.63392 37.9893 0 31.6304 0 25C0 18.3696 2.63392 12.0107 7.32233 7.32233C12.0107 2.63392 18.3696 0 25 0ZM25 46.4286C30.6832 46.4286 36.1337 44.1709 40.1523 40.1523C44.1709 36.1337 46.4286 30.6832 46.4286 25C46.4286 19.3168 44.1709 13.8663 40.1523 9.84771C36.1337 5.82907 30.6832 3.57143 25 3.57143C19.3168 3.57143 13.8663 5.82907 9.84771 9.84771C5.82907 13.8663 3.57143 19.3168 3.57143 25C3.57143 30.6832 5.82907 36.1337 9.84771 40.1523C13.8663 44.1709 19.3168 46.4286 25 46.4286ZM22.3214 32.6107L33.7393 25L22.3214 17.3893V32.6107ZM22.9143 13.4893L36.8357 22.7714C37.2026 23.016 37.5034 23.3474 37.7114 23.7362C37.9194 24.125 38.0283 24.5591 38.0283 25C38.0283 25.4409 37.9194 25.875 37.7114 26.2638C37.5034 26.6526 37.2026 26.984 36.8357 27.2286L22.9143 36.5107C22.5109 36.7796 22.0421 36.934 21.5579 36.9574C21.0736 36.9808 20.5921 36.8723 20.1647 36.6436C19.7373 36.4148 19.3799 36.0744 19.1308 35.6585C18.8816 35.2426 18.75 34.7669 18.75 34.2821V15.7143C18.75 15.2295 18.8816 14.7538 19.1308 14.3379C19.3799 13.922 19.7373 13.5816 20.1647 13.3528C20.5921 13.1241 21.0736 13.0156 21.5579 13.039C22.0421 13.0624 22.5109 13.2168 22.9143 13.4857V13.4893Z" fill="white" />
			</svg>
		</button>
	</div>
<?php
}

add_shortcode("eternal_video_scn", "eternal_video");
